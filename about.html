<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<link rel="stylesheet" href="/_assets/main.css" />

    <title>Subscribe To My Email Newsletter - Nerdy thoughts of a Digital Jockey
    </title>
</head>

<body>
  <div class="main">
    <nav class="navigation">
      <a href="/">
        Nerdy thoughts of a Digital Jockey
      </a>
    </nav>
    <div class="about">Hello World!</div>

    <!-- Adding the Contact Form -->
    <h1>Contact Form</h1>
    <form id="contact-form">
      <label for="name">Name:</label><br>
      <input type="text" id="name" name="name"><br>

      <label for="email">Email:</label><br>
      <input type="email" id="email" name="email"><br><br>

      <input type="submit" value="Submit">
    </form>
    <div id="form-response"></div> <!-- Element to display response -->

    <!-- Adding the JavaScript to handle form submission -->
    <script>
      const form = document.getElementById('contact-form');
      const responseElement = document.getElementById('form-response');
    
      form.addEventListener('submit', function(event) {
        event.preventDefault();
    
        const formData = new FormData(form);
    
        // Convert FormData to URL-encoded form data
        const urlEncodedData = new URLSearchParams(formData).toString();
    
        const url = 'https://script.google.com/macros/s/AKfycbz5ew4mxtLpjYVA9rLMCkFeN14Tj_iYEZ4vyQqaMKMjx06u6aUcpOzzHhatWiRoeATn4g/exec';
    
        fetch(url, {
          method: 'POST',
          mode: 'no-cors',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          body: urlEncodedData, // Sending URL-encoded form data
        })
        .then(response => {
          console.log('Form sent', response);
          responseElement.textContent = 'Successfully subscribed'; // Acknowledge submit
        })
        .catch(error => {
          console.error('Error sending form', error);
          responseElement.textContent = 'Error occurred'; // Show error
        });
      });
    </script>
    
</body>

</html>